CREATE TABLE TYPE_LOCAL(
CD_TYPE_LOCAL        INTEGER NOT NULL,
TYPE_LOCAL            VARCHAR(50),
PRIMARY KEY(CD_TYPE_LOCAL)
);

CREATE TABLE VENTE(
ID_TRANSACTION        INTEGER NOT NULL,
ANNEE           INTEGER,
MOIS            INTEGER,
VALEUR        INTEGER,
PRIMARY KEY(ID_TRANSACTION)
);

CREATE TABLE LOCALISATION(
CD_ID_COMMUNE        INTEGER NOT NULL,
COMMUNE             VARCHAR(50),
DEPARTEMENT        VARCHAR(4),
PRIMARY KEY(CD_ID_COMMUNE)
);

CREATE TABLE BIEN_IMMOBILIER(
ID_BIEN_IMMOBILIER   INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1) ,
CD_TYPE_LOCAL             INTEGER NOT NULL ,
CD_ID_COMMUNE        INTEGER NOT NULL ,
NB_PIECE_PRINC   INTEGER,
SURFACE         FLOAT,
ID_TRANSACTION       INTEGER NOT NULL ,
PRIMARY KEY(ID_BIEN_IMMOBILIER)
);

## Une fois les données uploadées:

ALTER TABLE BIEN_IMMOBILIER 
ADD FOREIGN KEY(CD_TYPE_LOCAL) REFERENCES TYPE_LOCAL(CD_TYPE_LOCAL) ON UPDATE NO ACTION ON DELETE CASCADE;
ALTER TABLE BIEN_IMMOBILIER 
ADD FOREIGN KEY(CD_ID_COMMUNE) REFERENCES LOCALISATION(CD_ID_COMMUNE) ON UPDATE NO ACTION ON DELETE CASCADE;
ALTER TABLE BIEN_IMMOBILIER 
ADD FOREIGN KEY(ID_TRANSACTION) REFERENCES VENTE(ID_TRANSACTION) ON UPDATE NO ACTION ON DELETE CASCADE;